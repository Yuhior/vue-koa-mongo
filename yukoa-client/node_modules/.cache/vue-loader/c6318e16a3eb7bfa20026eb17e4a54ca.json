{"remainingRequest":"/Users/yuhior/study/vue/koa2-zcls/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhior/study/vue/koa2-zcls/src/components/RegisterForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhior/study/vue/koa2-zcls/src/components/RegisterForm.vue","mtime":1600501568792},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJzY2hvb2xUeXBlIl0sCiAgZGF0YSgpIHsKICAgIHZhciB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgLy9jb25zb2xlLmxvZyh2YWx1ZSkKICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuZm9ybS5jb25maXJtUGFzc3dvcmQgIT09ICcnKSB7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy4kcmVmcy5mb3JtKQogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGVGaWVsZCgnY29uZmlybVBhc3N3b3JkJyk7CiAgICAgICAgfQogICAgICAgIGNhbGxiYWNrKCk7CiAgICB9CiAgICB9OwogICAgdmFyIHZhbGlkYXRlUGFzczIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2codmFsdWUpCiAgICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WGjeasoei+k+WFpeWvhueggScpKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0aGlzLmZvcm0ucGFzc3dvcmQpIHsKICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfkuKTmrKHovpPlhaXlr4bnoIHkuI3kuIDoh7QhJykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgICAgZm9ybTogewogICAgICAgICAgYWxpYXNfbmFtZTogJycsCiAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICBtb2JpbGU6JycsCiAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLAogICAgICAgICAgZGF0ZTI6ICcnLAogICAgICAgICAgZGVsaXZlcnk6IGZhbHNlLAogICAgICAgICAgdHlwZTogW10sCiAgICAgICAgICByZXNvdXJjZTogJycsCiAgICAgICAgICBkZXNjOiAnJywKICAgICAgICAgIG1vYmlsZVZlcmlmaWNhdGlvbjonJwogICAgICAgIH0sCiAgICAgICAgcnVsZXM6IHsKICAgICAgICAgICAgYWxpYXNfbmFtZTogWwogICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaYteensCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgICAgICAgeyBtaW46IDMsIG1heDogNSwgbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCA1IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICAgICAgIHsgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIG1vYmlsZTogWwogICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+i+k+WFpeaJi+acuuWPtycsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGNvbmZpcm1QYXNzd29yZDogWwogICAgICAgICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzczIsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgIF0KICAgICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczp7CiAgICAgIG9uU3VibWl0KGZvcm1OYW1lKXsKICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICB0aGlzLiRhcGkuUmVnaXN0ZXIoewogICAgICAgICAgICAgICAgYWxpYXNfbmFtZTp0aGlzLmZvcm0uYWxpYXNfbmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOnRoaXMuZm9ybS5wYXNzd29yZCwKICAgICAgICAgICAgICAgIG1vYmlsZTp0aGlzLmZvcm0ubW9iaWxlLAogICAgICAgICAgICAgICAgc2Nob29sX3R5cGU6dGhpcy5zY2hvb2xUeXBlCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgIAogICAgICB9LCAKICAgICAgaGlzdG9yeUJhY2soKXsKICAgICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5Lmxlbmd0aDw9MSkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Jy8nfSkKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5LiK6L656YO95rKh5pyJ5omn6KGM5bCx6K+05piO5Y2h5Zyo5b2T5YmN6aG1IOS5n+S4jeaYr+acgOWQjuS4gOadoe+8jGhpc3RvcnnorrDlvZXmlbDph4/lpKfkuo4xIOWPiOayoeacieWbnumAgOiusOW9leWPquiDvei/lOWbnummlumhtQogICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonLyd9KQogICAgICAgICAgICAvLyB9LDEwMDApCiAgICAgICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMuc2Nob29sVHlwZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLi8iKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["RegisterForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"registerform_container\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\"  label-width=\"20px\">\n        <el-form-item label=\"\" prop=\"alias_name\">\n            <el-input v-model=\"form.alias_name\" placeholder=\"请输入昵称\" prefix-icon=\"el-icon-user\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\" prop=\"mobile\">\n            <el-input v-model=\"form.mobile\" placeholder=\"请输入手机号\" prefix-icon=\"el-icon-mobile\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\"  prop=\"password\">\n            <el-input v-model=\"form.password\" show-password placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\" prop=\"confirmPassword\">\n            <el-input v-model=\"form.confirmPassword\" show-password placeholder=\"确认密码\" prefix-icon=\"el-icon-lock\"></el-input>\n        </el-form-item>\n        <el-form-item>\n            <el-input v-model=\"form.value\" prefix-icon=\"el-icon-key\" placeholder=\"输入手机验证码\" style=\"width:280px\"></el-input>\n            <el-button style=\"margin-left:10px;width:110px\">发送验证码</el-button>\n        </el-form-item>\n        <el-form-item>\n            <el-button type=\"primary\" style=\"width:300px\"  @click=\"onSubmit('form')\">注册</el-button>\n        </el-form-item>\n        <div class=\"registerform_bottom\">\n            <span @click=\"historyBack\">返回</span>\n            <span>登陆</span>\n        </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"schoolType\"],\n  data() {\n    var validatePass = (rule, value, callback) => {\n        //console.log(value)\n    if (value === '') {\n        callback(new Error('请输入密码'));\n    } else {\n        if (this.form.confirmPassword !== '') {\n            //console.log(this.$refs.form)\n            this.$refs.form.validateField('confirmPassword');\n        }\n        callback();\n    }\n    };\n    var validatePass2 = (rule, value, callback) => {\n        console.log(value)\n        if (value === '') {\n            callback(new Error('请再次输入密码'));\n        } else if (value !== this.form.password) {\n            callback(new Error('两次输入密码不一致!'));\n        } else {\n            callback();\n        }\n    };\n    return {\n        form: {\n          alias_name: '',\n          password: '',\n          mobile:'',\n          confirmPassword: '',\n          date2: '',\n          delivery: false,\n          type: [],\n          resource: '',\n          desc: '',\n          mobileVerification:''\n        },\n        rules: {\n            alias_name: [\n                { required: true, message: '请输入昵称', trigger: 'blur' },\n                { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n            ],\n            password: [\n               { validator: validatePass, trigger: 'blur' }\n            ],\n            mobile: [\n                { required: true, message: '输入手机号', trigger: 'blur' }\n            ],\n            confirmPassword: [\n                { validator: validatePass2, trigger: 'blur' }\n            ]\n        }\n    };\n  },\n  methods:{\n      onSubmit(formName){\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$api.Register({\n                alias_name:this.form.alias_name,\n                password:this.form.password,\n                mobile:this.form.mobile,\n                school_type:this.schoolType\n            }).then((res) => {\n                console.log(res);\n            }).catch((err) => {\n                console.log(err)\n            })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n       \n      }, \n      historyBack(){\n            if (window.history.length<=1) {\n                this.$router.push({path:'/'})\n                return false\n            }else{\n                this.$router.go(-1);\n            }\n            // 上边都没有执行就说明卡在当前页 也不是最后一条，history记录数量大于1 又没有回退记录只能返回首页\n            // setTimeout(()=>{\n            //     this.$router.push({path:'/'})\n            // },1000)\n        },\n  },\n  mounted() {\n    if (!this.schoolType) {\n      this.$router.push(\"./\");\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.registerform_container{\n    padding: 0 40px;\n    .registerform_bottom{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n}\n</style>"]}]}