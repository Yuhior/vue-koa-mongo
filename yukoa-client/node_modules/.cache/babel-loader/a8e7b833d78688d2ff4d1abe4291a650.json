{"remainingRequest":"/Users/yuhior/study/vue/koa2-zcls/node_modules/babel-loader/lib/index.js!/Users/yuhior/study/vue/koa2-zcls/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuhior/study/vue/koa2-zcls/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhior/study/vue/koa2-zcls/src/components/RegisterForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhior/study/vue/koa2-zcls/src/components/RegisterForm.vue","mtime":1600501568792},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbInNjaG9vbFR5cGUiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgdmFsaWRhdGVQYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAvL2NvbnNvbGUubG9nKHZhbHVlKQogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF90aGlzLmZvcm0uY29uZmlybVBhc3N3b3JkICE9PSAnJykgewogICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRyZWZzLmZvcm0pCiAgICAgICAgICBfdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlRmllbGQoJ2NvbmZpcm1QYXNzd29yZCcpOwogICAgICAgIH0KCiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVQYXNzMiA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzczIocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKCiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WGjeasoei+k+WFpeWvhueggScpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gX3RoaXMuZm9ybS5wYXNzd29yZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0IScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBhbGlhc19uYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgbW9iaWxlOiAnJywKICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLAogICAgICAgIGRhdGUyOiAnJywKICAgICAgICBkZWxpdmVyeTogZmFsc2UsCiAgICAgICAgdHlwZTogW10sCiAgICAgICAgcmVzb3VyY2U6ICcnLAogICAgICAgIGRlc2M6ICcnLAogICAgICAgIG1vYmlsZVZlcmlmaWNhdGlvbjogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBhbGlhc19uYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5pi156ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1heDogNSwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMyDliLAgNSDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG1vYmlsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+i+k+WFpeaJi+acuuWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzczIsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczIuJGFwaS5SZWdpc3Rlcih7CiAgICAgICAgICAgIGFsaWFzX25hbWU6IF90aGlzMi5mb3JtLmFsaWFzX25hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpczIuZm9ybS5wYXNzd29yZCwKICAgICAgICAgICAgbW9iaWxlOiBfdGhpczIuZm9ybS5tb2JpbGUsCiAgICAgICAgICAgIHNjaG9vbF90eXBlOiBfdGhpczIuc2Nob29sVHlwZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoaXN0b3J5QmFjazogZnVuY3Rpb24gaGlzdG9yeUJhY2soKSB7CiAgICAgIGlmICh3aW5kb3cuaGlzdG9yeS5sZW5ndGggPD0gMSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcvJwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICB9IC8vIOS4iui+uemDveayoeacieaJp+ihjOWwseivtOaYjuWNoeWcqOW9k+WJjemhtSDkuZ/kuI3mmK/mnIDlkI7kuIDmnaHvvIxoaXN0b3J56K6w5b2V5pWw6YeP5aSn5LqOMSDlj4jmsqHmnInlm57pgIDorrDlvZXlj6rog73ov5Tlm57pppbpobUKICAgICAgLy8gc2V0VGltZW91dCgoKT0+ewogICAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Jy8nfSkKICAgICAgLy8gfSwxMDAwKQoKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMuc2Nob29sVHlwZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLi8iKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["RegisterForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"registerform_container\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\"  label-width=\"20px\">\n        <el-form-item label=\"\" prop=\"alias_name\">\n            <el-input v-model=\"form.alias_name\" placeholder=\"请输入昵称\" prefix-icon=\"el-icon-user\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\" prop=\"mobile\">\n            <el-input v-model=\"form.mobile\" placeholder=\"请输入手机号\" prefix-icon=\"el-icon-mobile\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\"  prop=\"password\">\n            <el-input v-model=\"form.password\" show-password placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\" prop=\"confirmPassword\">\n            <el-input v-model=\"form.confirmPassword\" show-password placeholder=\"确认密码\" prefix-icon=\"el-icon-lock\"></el-input>\n        </el-form-item>\n        <el-form-item>\n            <el-input v-model=\"form.value\" prefix-icon=\"el-icon-key\" placeholder=\"输入手机验证码\" style=\"width:280px\"></el-input>\n            <el-button style=\"margin-left:10px;width:110px\">发送验证码</el-button>\n        </el-form-item>\n        <el-form-item>\n            <el-button type=\"primary\" style=\"width:300px\"  @click=\"onSubmit('form')\">注册</el-button>\n        </el-form-item>\n        <div class=\"registerform_bottom\">\n            <span @click=\"historyBack\">返回</span>\n            <span>登陆</span>\n        </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"schoolType\"],\n  data() {\n    var validatePass = (rule, value, callback) => {\n        //console.log(value)\n    if (value === '') {\n        callback(new Error('请输入密码'));\n    } else {\n        if (this.form.confirmPassword !== '') {\n            //console.log(this.$refs.form)\n            this.$refs.form.validateField('confirmPassword');\n        }\n        callback();\n    }\n    };\n    var validatePass2 = (rule, value, callback) => {\n        console.log(value)\n        if (value === '') {\n            callback(new Error('请再次输入密码'));\n        } else if (value !== this.form.password) {\n            callback(new Error('两次输入密码不一致!'));\n        } else {\n            callback();\n        }\n    };\n    return {\n        form: {\n          alias_name: '',\n          password: '',\n          mobile:'',\n          confirmPassword: '',\n          date2: '',\n          delivery: false,\n          type: [],\n          resource: '',\n          desc: '',\n          mobileVerification:''\n        },\n        rules: {\n            alias_name: [\n                { required: true, message: '请输入昵称', trigger: 'blur' },\n                { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n            ],\n            password: [\n               { validator: validatePass, trigger: 'blur' }\n            ],\n            mobile: [\n                { required: true, message: '输入手机号', trigger: 'blur' }\n            ],\n            confirmPassword: [\n                { validator: validatePass2, trigger: 'blur' }\n            ]\n        }\n    };\n  },\n  methods:{\n      onSubmit(formName){\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$api.Register({\n                alias_name:this.form.alias_name,\n                password:this.form.password,\n                mobile:this.form.mobile,\n                school_type:this.schoolType\n            }).then((res) => {\n                console.log(res);\n            }).catch((err) => {\n                console.log(err)\n            })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n       \n      }, \n      historyBack(){\n            if (window.history.length<=1) {\n                this.$router.push({path:'/'})\n                return false\n            }else{\n                this.$router.go(-1);\n            }\n            // 上边都没有执行就说明卡在当前页 也不是最后一条，history记录数量大于1 又没有回退记录只能返回首页\n            // setTimeout(()=>{\n            //     this.$router.push({path:'/'})\n            // },1000)\n        },\n  },\n  mounted() {\n    if (!this.schoolType) {\n      this.$router.push(\"./\");\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.registerform_container{\n    padding: 0 40px;\n    .registerform_bottom{\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n}\n</style>"],"sourceRoot":"src/components"}]}