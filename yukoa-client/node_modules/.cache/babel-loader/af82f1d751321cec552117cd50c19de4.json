{"remainingRequest":"/Users/yuhior/study/koa2/yuKoa-client/node_modules/babel-loader/lib/index.js!/Users/yuhior/study/koa2/yuKoa-client/node_modules/eslint-loader/index.js??ref--13-0!/Users/yuhior/study/koa2/yuKoa-client/src/http/api.js","dependencies":[{"path":"/Users/yuhior/study/koa2/yuKoa-client/src/http/api.js","mtime":1600250520222},{"path":"/Users/yuhior/study/koa2/yuKoa-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhior/study/koa2/yuKoa-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhior/study/koa2/yuKoa-client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7IC8v5YCS5YWl6buY6K6k6YWN572uCgppbXBvcnQgcXMgZnJvbSAncXMnOyAvL+W6j+WIl+WMluivt+axguaVsOaNru+8jOinhuacjeWKoeerr+eahOimgeaxggoKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4vLi4vcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gJGF4aW9zKG9wdGlvbnMpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgYmFzZVVSTDogY29uZmlnLmJhc2VVUkwsCiAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLAogICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfV0KICAgIH0pOyAvL3JlcXVlc3Qg5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgLy8gVGlwIDEg77ya6K+35rGC5byA5aeL55qE5pe25YCZ5Y+v5Lul57uT5ZCIdnVleOW8gOWQr+WFqOWxj+eahGxvYWRpbmfliqjnlLsKICAgICAgLy8gVGlwMiDvvJrluKbkuIp0b2tlbiDvvIzlj6/ku6Xnu5PlkIh2dWV4IOaIluiAhemHjWxvY2FsU3RvcmFnZQogICAgICAvLyBpZiAoc3RvcmUuZ2V0dGVyLnRva2VuKSB7CiAgICAgIC8vICAgICBjb25maWcuaGVhZGVyc1snWC1Ub2tlbiddID0gZ2V0VG9rZW4oKSAvLyDorqnmr4/kuKror7fmsYLmkLrluKZ0b2tlbiAtLSBbJ1gtVG9rZW4nXeS4uuiHquWumuS5iWtleSDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICAgICAgLy8gfWVsc2V7CiAgICAgIC8vICAgICDph43lrprlkJHliLDnmbvpmYbpobXpnaIKICAgICAgLy8gfQogICAgICAvLyBUaXAzIO+8muagueaNruivt+axguaWueazle+8jOW6j+WIl+WMluS8oOi/h+adpeeahOWPguaVsO+8jOagueaNruWQjuerr+mcgOaxguaYr+WQpuW6j+WIl+WMlgogICAgICBpZiAoY29uZmlnLm1ldGhvZC50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAncG9zdCcgfHwgY29uZmlnLm1ldGhvZC50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAncHV0JyB8fCBjb25maWcubWV0aG9kLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICdkZWxldGUnKSB7CiAgICAgICAgY29uZmlnLmhlYWRlcnMgPSB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JwogICAgICAgIH07CiAgICAgICAgY29uZmlnLmRhdGEgPSBxcy5zdHJpbmdpZnkoY29uZmlnLmRhdGEpOwogICAgICB9CgogICAgICByZXR1cm4gY29uZmlnOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIC8vIOivt+axgumUmeivr+aXtuWBmuS6m+S6iyjmjqXlj6PplJnor6/jgIHotoXml7bnrYkpCiAgICAgIC8vIFRpcDogNCDlhbPpl61sb2FkZGluZyAgCiAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0OicsIGVycm9yKTsgLy8gIDEuIOWIpOaWreivt+axgui2heaXtgoKICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdFQ09OTkFCT1JURUQnICYmIGVycm9yLm1lc3NhZ2UuaW5kZXhPZigndGltZW91dCcpICE9PSAtMSkgewogICAgICAgIGNvbnNvbGUubG9nKCfmoLnmja7kvaDorr7nva7nmoR0aW1lb3V0L+ecn+eahOivt+axgui2heaXtiDliKTmlq3or7fmsYLnjrDlnKjotoXml7bkuobvvIzkvaDlj6/ku6XlnKjov5nph4zliqDlhaXotoXml7bnmoTlpITnkIbmlrnmoYgnKTsgLy8gcmV0dXJuIHNlcnZpY2UucmVxdWVzdChvcmlnaW5hbFJlcXVlc3QpOy8v5L6L5aaC5YaN6YeN5aSN6K+35rGC5LiA5qyhCiAgICAgIH0gLy8gMi4g6ZyA6KaB6YeN5a6a5ZCR5Yiw6ZSZ6K+v6aG16Z2iCgoKICAgICAgdmFyIGVycm9ySW5mbyA9IGVycm9yLnJlc3BvbnNlOwogICAgICBjb25zb2xlLmxvZyhlcnJvckluZm8pOwoKICAgICAgaWYgKGVycm9ySW5mbykgewogICAgICAgIC8vIGVycm9yID1lcnJvckluZm8uZGF0YS8v6aG16Z2i6YKj6L65Y2F0Y2jnmoTml7blgJnlsLHog73mi7/liLDor6bnu4bnmoTplJnor6/kv6Hmga8s55yL5pyA5LiL6L6555qEUHJvbWlzZS5yZWplY3QKICAgICAgICB2YXIgZXJyb3JTdGF0dXMgPSBlcnJvckluZm8uc3RhdHVzOyAvLyA0MDQgNDAzIDUwMCAuLi4g562JCgogICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvZXJyb3IvIi5jb25jYXQoZXJyb3JTdGF0dXMpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7IC8v5Zyo6LCD55So55qE6YKj6L655Y+v5Lul5ou/5YiwKGNhdGNoKeS9oOaDs+i/lOWbnueahOmUmeivr+S/oeaBrwogICAgfSk7IC8vIHJlc3BvbnNlIOaLpuaIquWZqAoKICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBkYXRhOyAvLyBJRTnml7ZyZXNwb25zZS5kYXRh5pivdW5kZWZpbmVk77yM5Zug5q2k6ZyA6KaB5L2/55SocmVzcG9uc2UucmVxdWVzdC5yZXNwb25zZVRleHQoU3RyaW5naWZ55ZCO55qE5a2X56ym5LiyKQoKICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YSA9IHJlc3BvbnNlLnJlcXVlc3QucmVzcG9uc2VUZXh0OwogICAgICB9IGVsc2UgewogICAgICAgIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICB9IC8vIOagueaNrui/lOWbnueahGNvZGUg5YC85p2l5YGa5LiN5ZCM55qE5aSE55CGIOWSjOWQjuerr+i/m+ihjOe6puWumgoKCiAgICAgIHN3aXRjaCAoZGF0YS5jb2RlKSB7CiAgICAgICAgY2FzZSAnJzoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0gLy8g5aaC5p6c5LiN5piv5q2j56Gu55qE6L+U5ZueY29kZSDvvIzkuJTlt7Lnu4/nmbvpmYbvvIzpgqPlsLHmipvlh7rplJnor68KICAgICAgLy8gY29uc3QgZXJyID0gbmV3IEVycm9yKGRhdGEuZGVzY3JpcHRpb24pCiAgICAgIC8vIGVyci5kYXRhID0gZGF0YQogICAgICAvLyBlcnIucmVzcG9uc2UgPSByZXNwb25zZQogICAgICAvLyB0aHJvdyBlcnIKCgogICAgICByZXR1cm4gZGF0YTsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICBpZiAoZXJyb3IgJiYgZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICBzd2l0Y2ggKGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICAgICAgY2FzZSA0MDA6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6ZSZ6K+vJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDE6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyq5o6I5p2D77yM6K+355m75b2VJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDM6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDQ6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAiXHU4QkY3XHU2QzQyXHU1NzMwXHU1NzQwXHU1MUZBXHU5NTE5OiAiLmNvbmNhdChlcnJvci5yZXNwb25zZS5jb25maWcudXJsKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0MDg6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6LaF5pe2JzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDA6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo5YaF6YOo6ZSZ6K+vJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDE6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5pyq5a6e546wJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDI6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R5YWz6ZSZ6K+vJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDM6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5LiN5Y+v55SoJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDQ6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R5YWz6LaF5pe2JzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA1MDU6CiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnSFRUUOeJiOacrOS4jeWPl+aUr+aMgSc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIOatpOWkhOaIkeS9v+eUqOeahOaYryBlbGVtZW50IFVJIOeahOaPkOekuue7hOS7tgoKICAgICAgTWVzc2FnZS5lcnJvcigiRVJST1I6ICIuY29uY2F0KGVycm9yKSk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7IC8vIOi/lOWbnuaOpeWPo+i/lOWbnueahOmUmeivr+S/oeaBrwogICAgfSk7IC8v6K+35rGC5aSE55CGIOaJp+ihjCBpbnN0YW5jZSDnmoTmlrnms5UKCiAgICBpbnN0YW5jZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["/Users/yuhior/study/koa2/yuKoa-client/src/http/api.js"],"names":["axios","config","qs","Message","router","$axios","options","Promise","resolve","reject","instance","create","baseURL","headers","transformRequest","data","interceptors","request","use","method","toLocaleLowerCase","stringify","error","console","log","code","message","indexOf","errorInfo","response","errorStatus","status","push","path","undefined","responseText","url","then","res","catch"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport config from './config'  //倒入默认配置\nimport qs from 'qs'  //序列化请求数据，视服务端的要求\nimport { Message } from 'element-ui'\nimport router from './../router'\n\nexport default function $axios(options) {\n    return new Promise((resolve, reject) => {\n        const instance = axios.create({\n            baseURL: config.baseURL,\n            headers: config.headers,\n            transformRequest: [function (data) {\n                return data\n            }],\n        })\n\n        //request 拦截器\n        instance.interceptors.request.use(\n            config => {\n                \n                // Tip 1 ：请求开始的时候可以结合vuex开启全屏的loading动画\n\n                // Tip2 ：带上token ，可以结合vuex 或者重localStorage\n\n                // if (store.getter.token) {\n                //     config.headers['X-Token'] = getToken() // 让每个请求携带token -- ['X-Token']为自定义key 请根据实际情况自行修改\n                // }else{\n                //     重定向到登陆页面\n                // }\n                // Tip3 ：根据请求方法，序列化传过来的参数，根据后端需求是否序列化\n\n                if (config.method.toLocaleLowerCase() === 'post' || config.method.toLocaleLowerCase() === 'put' || config.method.toLocaleLowerCase() === 'delete') {\n                   \n                    config.headers = {\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                    }\n                    config.data = qs.stringify(config.data)\n                }\n                return config\n            },\n            error => { // 请求错误时做些事(接口错误、超时等)\n                // Tip: 4 关闭loadding  \n                console.log('request:', error);\n                //  1. 判断请求超时\n                if (error.code === 'ECONNABORTED' && error.message.indexOf('timeout') !== -1) {\n                    console.log('根据你设置的timeout/真的请求超时 判断请求现在超时了，你可以在这里加入超时的处理方案')\n                    // return service.request(originalRequest);//例如再重复请求一次\n                }\n                // 2. 需要重定向到错误页面\n                const errorInfo = error.response;\n                console.log(errorInfo);\n                if (errorInfo) {\n                    // error =errorInfo.data//页面那边catch的时候就能拿到详细的错误信息,看最下边的Promise.reject\n                    const errorStatus = errorInfo.status; // 404 403 500 ... 等\n                    router.push({\n                        path: `/error/${errorStatus}`\n                    })\n                }\n                return Promise.reject(error);   //在调用的那边可以拿到(catch)你想返回的错误信息\n            })\n\n        // response 拦截器\n\n        instance.interceptors.response.use(\n            response => {\n                let data;\n                // IE9时response.data是undefined，因此需要使用response.request.responseText(Stringify后的字符串)\n                if (response.data == undefined) {\n                    data = response.request.responseText\n                } else {\n                    data = response.data\n                }\n\n                // 根据返回的code 值来做不同的处理 和后端进行约定\n\n                switch (data.code) {\n                    case '':\n\n                        break;\n\n                    default:\n                        break;\n                }\n                // 如果不是正确的返回code ，且已经登陆，那就抛出错误\n                // const err = new Error(data.description)\n                // err.data = data\n                // err.response = response\n                // throw err\n                return data\n            },\n            error => {\n                if (error && error.response) {\n                    switch (error.response.status) {\n                        case 400:\n                            error.message = '请求错误'\n                            break;\n                        case 401:\n                            error.message = '未授权，请登录'\n                            break;\n                        case 403:\n                            error.message = '拒绝访问'\n                            break;\n                        case 404:\n                            error.message = `请求地址出错: ${error.response.config.url}`\n                            break;\n                        case 408:\n                            error.message = '请求超时'\n                            break\n\n                        case 500:\n                            error.message = '服务器内部错误'\n                            break\n\n                        case 501:\n                            error.message = '服务未实现'\n                            break\n\n                        case 502:\n                            error.message = '网关错误'\n                            break\n\n                        case 503:\n                            error.message = '服务不可用'\n                            break\n\n                        case 504:\n                            error.message = '网关超时'\n                            break\n\n                        case 505:\n                            error.message = 'HTTP版本不受支持'\n                            break\n                        default:\n                            break;\n                    }\n                }\n                console.error(error)\n                // 此处我使用的是 element UI 的提示组件\n                Message.error(`ERROR: ${error}`)\n                return Promise.reject(error) // 返回接口返回的错误信息\n            }\n        )\n        //请求处理 执行 instance 的方法\n        instance(options)\n            .then((res) => {\n                resolve(res)\n                return false\n            })\n            .catch((error) => {\n                reject(error)\n            })\n\n    })\n\n}\n\n\n"]}]}