{"remainingRequest":"/Users/yuhior/study/vue/koa2-zcls/node_modules/babel-loader/lib/index.js!/Users/yuhior/study/vue/koa2-zcls/node_modules/eslint-loader/index.js??ref--13-0!/Users/yuhior/study/vue/koa2-zcls/src/router/index.js","dependencies":[{"path":"/Users/yuhior/study/vue/koa2-zcls/src/router/index.js","mtime":1600624292934},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuhior/study/vue/koa2-zcls/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMveXVoaW9yL3N0dWR5L3Z1ZS9rb2EyLXpjbHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF90aGlzID0gdGhpczsKCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsgLy9pbXBvcnQgSG9tZSBmcm9tICIuLi92aWV3cy9Ib21lLnZ1ZSI7CgppbXBvcnQgTG9naW4gZnJvbSAnQC9jb21wb25lbnRzL0xvZ2luJzsKaW1wb3J0IFJlZ2lzdGVyIGZyb20gJ0AvY29tcG9uZW50cy9SZWdpc3Rlcic7CmltcG9ydCBSZWdpc3RlckxpIGZyb20gJ0AvY29tcG9uZW50cy9SZWdpc3RlckxpJzsKaW1wb3J0IFJlZ2lzdGVyRm9ybSBmcm9tICdAL2NvbXBvbmVudHMvUmVnaXN0ZXJGb3JtJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiL2xvZ2luIiwKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudDogTG9naW4KfSwgewogIHBhdGg6ICIvcmVnaXN0ZXIiLAogIG5hbWU6ICJSZWdpc3RlciIsCiAgY29tcG9uZW50OiBSZWdpc3RlciwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICcnLAogICAgbmFtZTogJ3NjaG9vbFR5cGUnLAogICAgY29tcG9uZW50OiBSZWdpc3RlckxpLAogICAgbWV0YTogewogICAgICB0aXRsZTogJ+mAieaLqei6q+S7vScKICAgIH0KICB9LCB7CiAgICBwYXRoOiAncmVnZm9ybScsCiAgICBuYW1lOiAncmVnZm9ybScsCiAgICBjb21wb25lbnQ6IFJlZ2lzdGVyRm9ybSwKICAgIG1ldGE6IHsKICAgICAgdGl0bGU6ICfms6jlhozmj5DkuqQnCiAgICB9CiAgfV0KfSwgewogIHBhdGg6ICIvYWJvdXQiLAogIG5hbWU6ICJBYm91dCIsCiAgLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcKICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoCiAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovCiAgICAiLi4vdmlld3MvQWJvdXQudnVlIik7CiAgfQp9LCB7CiAgcGF0aDogIi9yZXNvdXJjZSIsCiAgbmFtZTogIlJlc291cmNlIiwKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8KICAgICIuLi92aWV3cy9SZXNvdXJjZS52dWUiKTsKICB9LAogIG1ldGE6IHsKICAgIGF1dGg6IHRydWUKICB9Cn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogImhpc3RvcnkiLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG0ubWV0YS5hdXRoOwogICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgIGlmIChfdGhpcy4kY29va2llLmdldENvb2tpZSgndXNlcm5hbWUnKSkgewogICAgICAgICAgICAgICAgLy/lt7Lnu4/nmbvpmYYKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICcvbG9naW4nLAogICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgIHJlZmVycmVyOiAnbG9naW4nCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuZXh0KCk7IC8vIOayoeaciW1ldGEgYXV0aCDpnIDopoHpqozor4HnmoQKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/yuhior/study/vue/koa2-zcls/src/router/index.js"],"names":["Vue","VueRouter","Login","Register","RegisterLi","RegisterForm","use","routes","path","name","component","children","meta","title","auth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","m","$cookie","getCookie","query","referrer"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CACA;;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAMM,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAER;AAHb,CADa,EAMb;AACEM,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEP,QAHb;AAIEQ,EAAAA,QAAQ,EAAC,CACP;AACEH,IAAAA,IAAI,EAAE,EADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAEN,UAHb;AAIEQ,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH;AAJR,GADO,EASP;AACEL,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEC,IAAAA,SAAS,EAAEL,YAHb;AAIEO,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH;AAJR,GATO;AAJX,CANa,EA6Bb;AACEL,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAE;AAAA,WACT;AAAO;AAAgC,wBAAvC,CADS;AAAA;AANb,CA7Ba,EAsCb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAE;AAAA,WACT;AAAO;AAAgC,2BAAvC,CADS;AAAA,GANb;AAQEE,EAAAA,IAAI,EAAE;AACJE,IAAAA,IAAI,EAAC;AADD;AARR,CAtCa,CAAf;AAoDA,IAAMC,MAAM,GAAG,IAAId,SAAJ,CAAc;AAC3Be,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3Bb,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAKAQ,MAAM,CAACM,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAChB,gBAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,qBAAEA,CAAC,CAACf,IAAF,CAAOE,IAAT;AAAA,aAAjB,CAAJ,EAAqC;AACnC,kBAAI,KAAI,CAACc,OAAL,CAAaC,SAAb,CAAuB,UAAvB,CAAJ,EAAwC;AAAE;AACxCL,gBAAAA,IAAI;AACL,eAFD,MAEK;AACHA,gBAAAA,IAAI,CAAC;AAAChB,kBAAAA,IAAI,EAAC,QAAN;AAAesB,kBAAAA,KAAK,EAAC;AAACC,oBAAAA,QAAQ,EAAC;AAAV;AAArB,iBAAD,CAAJ;AACD;AACF,aAND,MAMK;AACHP,cAAAA,IAAI,GADD,CACI;AACR;;AATe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAWA,eAAeT,MAAf","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n//import Home from \"../views/Home.vue\";\n\nimport Login from '@/components/Login'\nimport Register from '@/components/Register'\nimport RegisterLi from '@/components/RegisterLi'\nimport RegisterForm from '@/components/RegisterForm'\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login\n  },\n  {\n    path: \"/register\",\n    name: \"Register\",\n    component: Register,\n    children:[\n      {\n        path: '',\n        name: 'schoolType',\n        component: RegisterLi,\n        meta: {\n          title: '选择身份'\n        }\n      } ,\n      {\n        path: 'regform',\n        name: 'regform',\n        component: RegisterForm,\n        meta: {\n          title: '注册提交'\n        }\n      }\n    ]\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n  },\n  {\n    path: \"/resource\",\n    name: \"Resource\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ \"../views/Resource.vue\"),\n    meta: {\n      auth:true\n    }\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  if (to.matched.some(m=>m.meta.auth)) {\n    if (this.$cookie.getCookie('username')) { //已经登陆\n      next()\n    }else{\n      next({path:'/login',query:{referrer:'login'}})\n    }\n  }else{\n    next() // 没有meta auth 需要验证的\n  }\n})\nexport default router;\n"]}]}